---
title: Troubleshooting SMS delivery
description: How to diagnose SMS delivery problems
navigation_weight: 7
---

# Troubleshooting SMS Delivery

SMS API applications are straightforward to build but when messages are not being delivered correctly, it can be hard to determine why. Many things can go wrong that are outside your, or Vonage’s control.

The best place to find clues are the logs. You can create your own logs by setting up delivery status callbacks (DLR webhooks). Alternatively, you can access the Vonage platform logs either by using the [Reports API](/reports/overview) to download batches of SMS logs (CDRs), or searching the logs in the [Vonage API Dashboard](https://dashboard.nexmo.com/). This article will help you to understand how HTTP SMS works, what the most common errors are, and how to recognize them.

> **Note**: This guide covers troubleshooting failed delivery following a successful SMS API request. To troubleshoot request failure, please see the [Troubleshooting failed requests](/messaging/sms/guides/troubleshooting-sms) guide.

## Where to start

Every SMS error is unique, but most outages have common symptoms:

* A line on a graph goes down or status lights go red
* Individual customers start to contact your support team
* Someone on your team needs help with a batch of messages that are failing
* You’ve built something new, but you’re not receiving any feedback

Each of those issues requires you to examine the available data differently, and you can find the appropriate filters in the “search by” tabs on the Dashboard.

![Filtering SMS data in the Dashboard](/images/messaging/sms/filter-sms-dashboard.png "Filtering SMS data in the Dashboard")

* **Time range** is useful when you know the exact time something failed (e.g. when a graph line started to dip). 
* **Phone numbers** are most useful when you have a specific customer that is experiencing problems, or if you noticed that the traffic through a specific Vonage number is problematic.
* **Message ID** is the unique identifier of an SMS sent through Vonage. It’s a useful search parameter if someone has already identified a batch of problematic messages ahead of time, and you want to investigate further.
* **Webhooks** are good for knowing if your callbacks were set up correctly, and if not, which HTTP error was recorded.  
* **Not sent** are for messages that were rejected by the Vonage API platform before being passed to carriers, that you [were not charged for](https://help.nexmo.com/hc/en-us/articles/204014623-Will-I-be-Charged-for-Rejected-Messages-). This is most useful when developing your application

After choosing the right search parameter, you’ll get a long and overwhelming table. But before we can understand what those fields mean and what errors they relate to, it’s worth taking a step back to learn how exactly an HTTP request to the SMS API becomes an SMS message.

## How the SMS API works

![Lifecycle of an outbound SMS](/images/messaging/sms/lifecycle-outbound-sms.png "Lifecycle of an outbound SMS")

This diagram shows all the stages and statuses an outbound SMS can go through. After an API request is received, several redirects happen downstream before the SMS arrives at a customer’s phone. Failure could occur at any one of them, and those statuses are tracked in multiple logs: delivery status logs (DLRs), SMS logs (CDRs), Not sent (platform rejected logs), and Webhook logs (DLR delivery).

In case you are not familiar with the acronyms or different types of logs, here’s a quick summary:

### DLR - Delivery receipts
*Confirmation of SMS delivery*. These are provided when either the carrier or the destination phone receives the message. The reliability of delivery receipts varies widely from country to country. You can receive delivery receipts automatically by providing a [webhook](/concepts/guides/webhooks).

### CDR Call Detail Records (CDR) 
*Billing /transactional record*. The CDR records SMS status, cost, and the data sent with the request. CDRs are generated by Vonage and can be found on the Dashboard SMS Logs (up to 1 month of data), or downloaded with the Reports API (up to 13 months of data). Since this log is so detailed, you’ll be using it as the main source of truth for most of your troubleshooting.

### Not sent or Platform rejected 
*Messages rejected by the Vonage platform or SMS API*. These messages don’t have a Message ID, are not recorded in an SMS log or CDR and, because they cannot be sent, never result in a delivery receipt. They are usually seen as an [API error](https://help.nexmo.com/hc/en-us/articles/204827547) during development and are most useful then. These errors include messages that could not be sent because your account does not have enough credit, or were throttled because your application was sending them too fast, or failed because authentication was incorrect.

### Webhook logs or DLR delivery
*Webhook redirect status*. These don’t record the status of the SMS as such, but whether the delivery status was redirected to a webhook that you have configured. They are often useful to verify that everything is configured correctly.

## Common issues

You need at least three logs to different destination numbers (to provide reassurance that the problem is not related to a specific device). With access to those logs, you can use the SMS lifecycle graph to locate where the problem is likely to have occurred, and determine how to fix it:

* If you’re not receiving any delivery status, but can see SMS logs on the Dashboard, it’s likely that your messages are being delivered, but you’re having issues with your Delivery Receipt (DLR) webhook. You can check the “webhook” tab and look for HTTP errors. You will likely have to fix (or set up) your callbacks.
* If you’re not getting any delivery status, and can’t see any records on the SMS logs search, but can see rejected logs on the “Not Sent” tab, your messages were **rejected by the Vonage platform**, and you’ve got an [API error](/messaging/sms/guides/troubleshooting-sms#sms-api-error-codes). You will likely have to fix your requests or check your credit.
* If you can see SMS logs and their delivery status, but are still encountering problems, you’ll likely have a [Delivery Receipt (DLR) error](/messaging/sms/guides/delivery-receipts#dlr-error-codes). The source problem could vary a lot.

Delivery status errors are difficult to diagnose because they happen outside the reach of your application or the Vonage platform. Deliverability depends on network reliability, individual handset capability, and the generally complex nature of the phone networks, which makes them error prone. You should check the delivery status and DLR error code for insights into what to do next, but sometimes the error description is not enough. 

Here is a list of what each column on an SMS log means, and how they can help you find the source of your issues:

![SMS log example](/images/messaging/sms/sms-log-example.png "SMS log example")

### From 
*The Sender ID or number that sent the message*.

* Some countries accept alphanumeric [sender IDs](/messaging/sms/guides/custom-sender-id), others require a valid [local phone number](https://help.nexmo.com/hc/en-us/articles/115011451687-SMS-Numbers-Features-Overview) to send local traffic, and others may override it completely. To make sure you’re addressing your SMS correctly, first check the [features and restrictions of a destination country](https://help.nexmo.com/hc/en-us/articles/115011781468-SMS-Features-Overview-Outbound-only-).
* For countries that only accept numeric sender IDs, incorrect formatting will cause messages to fail. Vonage uses an international format (E.164) to validate requests. Numbers should start with the country code, and not `+` or `00`. See [destination number format](https://help.nexmo.com/hc/en-us/articles/206515367-Destination-number-format) for a more detailed explanation of the required format.

### To 
*The phone number that the message was sent to*.

* If you send marketing content, you will often end up attempting to send messages to phone numbers that don’t exist. You can check if a number is valid by sending a test SMS, or entering the number in the [Number Insight page](https://dashboard.nexmo.com/getting-started/number-insight) on the Dashboard. You can use the [Number Insight API](/number-insight/overview) to validate multiple numbers simultaneously.
* Incorrect number formatting will cause messages to fail.  Vonage uses an international format (E.164) to validate requests. Numbers should start with the country code, and not `+` or `00`. See [destination number format](https://help.nexmo.com/hc/en-us/articles/206515367-Destination-number-format) for a more detailed explanation of the required format.

### Status
*The most recent delivery status recorded*. This is updated either by the supplier or by Vonage.

* This is where you should look first when troubleshooting SMS delivery issues. You can find the delivery status and error codes along with their descriptions on the [DLR error codes](/messaging/sms/guides/delivery-receipts#dlr-error-codes) page.
* If a message does not have a delivery status it does not always mean that it was not delivered, because not all countries support DLRs. Before sending SMS, check the [features and restrictions of a destination country](https://help.nexmo.com/hc/en-us/articles/115011781468-SMS-Features-Overview-Outbound-only-).
* When you click the status on the Dashboard logs, a dialog box displays that contains further details about your error in the context of the SMS lifecycle.

### Latency
*The difference between the time of arrival (delivery status received) and the time sent (when your API request was received by Vonage) for an SMS that was delivered successfully.*

* Latency varies widely according to the quality of the infrastructure for a country or network. The best way to evaluate it is by calculating the average latency of a country or network yourself. In countries with good coverage, a good latency is between 1 ms to 5000 ms, medium between 5001 ms to 10000 ms, and bad above 10001 ms.
* If your product is time-sensitive, you might want to consider building a workflow that allows failover channels (e.g. using phone calls or other messaging apps in case an SMS can’t reach the end-user). The [Verify API](/verify/overview) is useful for two-factor authentication, and you can use the [Messages and Dispatch APIs](/messages/overview) to build custom failover workflows with social channels (e.g. WhatsApp, Facebook Messenger and Viber). 

### Network
*The operator to which the SMS was sent*.

If several SMS for the same network are failing, it’s likely that the networks or Vonage are experiencing problems. You can check [the Vonage status page](https://www.vonage.co.uk/system-status/), or open a support ticket so that our team can investigate it further.

### Body
*The message payload*.

* Some countries or carriers do not accept certain content within the message body: links, phone numbers, special characters or long messages. Check the [features and restrictions of a destination country](https://help.nexmo.com/hc/en-us/articles/115011781468-SMS-Features-Overview-Outbound-only-).
* If a message body contains unexpected characters, it will fail. A common error is trying to send special characters without enabling Unicode. You should [check your encoding](/messaging/sms/guides/concatenation-and-encoding) and how it affects the [length of the SMS](https://www.google.com/url?q=https://help.nexmo.com/hc/en-us/articles/204076866&sa=D&source=editors&ust=1613558008585000&usg=AOvVaw3Lk7ZUXuEYkGDbzd0DWbiW).
* Long messages will be sent as a multi-part (or "concatenated") SMS. Sometimes, concatenated SMS have unexpected results, like missing parts or parts [arriving at different times](https://help.nexmo.com/hc/en-us/articles/204014833-How-is-a-Multipart-SMS-Constructed-). Special characters, long links and Unicode formatting may unexpectedly generate concatenated messages. You should check the [length of your message](/messaging/sms/guides/concatenation-and-encoding#maximum-number-of-characters).

## Best practices

Now that you know how the SMS lifecycle works and how to troubleshoot it when it goes wrong, it’s worth highlighting some best practices.

1. **Make sure you have more than one log**. Troubleshooting SMS is all about triangulation. You’ll need at least three logs to different destination numbers in order to find common patterns. If you don’t it is very likely to be an issue with a single handset.
2. **Check if the number you’re trying to reach is valid**. There are many ways of doing this: you can try to replicate the conditions by sending a test SMS from your application, or by checking multiple numbers with the [Number Insight API](/number-insight/overview), or one number at a time [using the Number Insight demo on the Dashboard](https://dashboard.nexmo.com/getting-started/number-insight).
3. **Check the features and restrictions of your destination country**. Different rules for sending SMS apply in different countries, and sometimes these rules are not intuitive. It’s always good to check if your traffic is [following local guidelines](https://help.nexmo.com/hc/en-us/articles/115011781468-SMS-Features-Overview-Outbound-only-).
4. **Always check the “Webhook” and “Not sent” tabs** if your regular troubleshooting process is not working, and the problem happened in the last seven days. Those errors are uncommon, and are therefore often overlooked.
5. **Always add a Message ID and at least three sample logs when creating a support ticket**. Our support team can help you better if they have the Message ID to identify your messages (which you can select and export from the logs page), or the destination numbers and time stamps.

Still not sure what’s wrong? Open a support ticket! Our support team is here for you and happy to help!
